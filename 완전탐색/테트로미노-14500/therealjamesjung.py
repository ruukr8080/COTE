from sys import stdin

# 문제를 20분 풀었는데 15분을 주석처리한 경우의 수를 내가 직접 적었는데
# 질문게시판에 올라온 경우로 하니까 걍 맞아버렸네
# 진짜 문제 개열받는데... 내 경우의 수에서 뭐를 잘못 적었는지 모르겠음 ㅋㅋ
# 진짜 ㅅㅂ..

input = stdin.readline

# tetrominos = [
#     [(0, 0), (0, 1), (0, 2), (0, 3)],
#     [(0, 0), (1, 0), (2, 0), (3, 0)],

#     [(0, 0), (0, 1), (1, 0), (1, 1)],

#     [(0, 0), (1, 0), (2, 0), (2, 1)],
#     [(0, 0), (0, 1), (0, 2), (-1, 2)],
#     [(0, 0), (-1, 0), (-2, 0), (-2, -1)],
#     [(0, 0), (0, -1), (0, -2), (1, -2)],
#     [(0, 0), (1, 0), (2, 0), (2, -1)],
#     [(0, 0), (0, 1), (0, 2), (1, 2)],
#     [(0, 0), (-1, 0), (-2, 0), (-2, 1)],
#     [(0, 0), (0, -1), (0, -2), (-1, -2)],

#     [(0, 0), (1, 0), (1, 1), (2, 1)],
#     [(0, 0), (0, 1), (-1, 1), (-1, 2)],
#     [(0, 0), (-1, 0), (-1, -1), (-2, -1)],
#     [(0, 0), (0, -1), (1, -1), (1, -2)],
#     [(0, 0), (1, 0), (1, -1), (2, -1)],
#     [(0, 0), (0, 1), (1, 1), (1, 2)],
#     [(0, 0), (-1, 0), (-1, 1), (-2, 1)],
#     [(0, 0), (0, -1), (-1, -1), (-1, -2)],

#     [(0, 0), (1, 0), (1, 1), (2, 0)],
#     [(0, 0), (0, 1), (-1, 1), (0, 2)],
#     [(0, 0), (-1, 0), (-1, -1), (-2, 0)],
#     [(0, 0), (0, -1), (1, -1), (0, -2)],
#     [(0, 0), (1, 0), (1, -1), (2, 0)],
#     [(0, 0), (0, 1), (1, 1), (0, 2)],
#     [(0, 0), (-1, 0), (-1, 1), (-2, 0)],
#     [(0, 0), (0, -1), (-1, -1), (0, -2)],
# ]

tetrominos = [[(0, 0), (0, 1), (0, 2), (0, 3)],
              [(0, 0), (1, 0), (2, 0), (3, 0)],

              [(0, 0), (1, 0), (0, 1), (1, 1)],

              [(0, 0), (1, 0), (2, 0), (2, 1)],
              [(0, 1), (1, 1), (2, 1), (2, 0)],
              [(0, 0), (0, 1), (1, 1), (2, 1)],
              [(0, 0), (0, 1), (1, 0), (2, 0)],
              [(0, 0), (1, 0), (1, 1), (1, 2)],
              [(0, 2), (1, 1), (1, 2), (1, 0)],
              [(0, 0), (0, 1), (0, 2), (1, 2)],
              [(0, 0), (1, 0), (0, 1), (0, 2)],
              [(0, 0), (1, 0), (1, 1), (2, 1)],
              [(0, 1), (1, 1), (1, 0), (2, 0)],
              [(1, 0), (1, 1), (0, 1), (0, 2)],
              [(0, 0), (0, 1), (1, 1), (1, 2)],
              [(0, 1), (1, 0), (1, 1), (1, 2)],
              [(0, 0), (0, 1), (0, 2), (1, 1)],
              [(0, 0), (1, 0), (1, 1), (2, 0)],
              [(0, 1), (1, 1), (1, 0), (2, 1)]]

n, m = [int(x) for x in input().split()]

matrix = [[int(x) for x in input().split()] for __ in range(n)]

result = 0

for i in range(n):
    for j in range(m):
        for tetromino in tetrominos:
            tmp = 0
            for x, y in tetromino:
                try:
                    tmp += matrix[i+x][j+y]
                except IndexError:
                    tmp = 0
                    break
            result = max(result, tmp)

print(result)
